---
import { pgwWrap } from "../js/pgw.js";
---

<div class="banner__bottomimg">
  <img src="/image/banner_bottomimg.png" alt="Banner Bottom Image" />
</div>
<section class="sponsor">
  <div class="splide" id="food-splide">
    <div class="splide__track">
      <ul class="splide__list">
        <li class="splide__slide">
          <img src="/image/food_slider/1.png" alt="Food Sponsor 1" />
        </li>
        <li class="splide__slide">
          <img src="/image/food_slider/2.png" alt="Food Sponsor 2" />
        </li>
        <li class="splide__slide">
          <img src="/image/food_slider/3.png" alt="Food Sponsor 3" />
        </li>
        <li class="splide__slide">
          <img src="/image/food_slider/4.png" alt="Food Sponsor 4" />
        </li>
        <li class="splide__slide">
          <img src="/image/food_slider/5.png" alt="Food Sponsor 5" />
        </li>
        <li class="splide__slide">
          <img src="/image/food_slider/6.png" alt="Food Sponsor 6" />
        </li>
        <li class="splide__slide">
          <img src="/image/food_slider/7.png" alt="Food Sponsor 7" />
        </li>
        <li class="splide__slide">
          <img src="/image/food_slider/8.png" alt="Food Sponsor 8" />
        </li>
        <li class="splide__slide">
          <img src="/image/food_slider/9.png" alt="Food Sponsor 9" />
        </li>
      </ul>
    </div>
  </div>
</section>

<script>
  import { Splide } from "@splidejs/splide";
  import { AutoScroll } from "@splidejs/splide-extension-auto-scroll";
  import "@splidejs/splide/css";

  document.addEventListener("DOMContentLoaded", function () {
    const foodSplide = new Splide("#food-splide", {
      type: "loop",
      drag: "free",
      focus: "center",
      perPage: 18,
      gap: "30px",
      padding: "20px",
      arrows: false,
      pagination: false,
      autoScroll: {
        speed: 1,
        pauseOnHover: false,
        pauseOnFocus: false,
      },
      breakpoints: {
        1200: {
          perPage: 4,
          gap: "30px",
          padding: "15px",
        },
        992: {
          perPage: 3,
          gap: "30px",
          padding: "10px",
        },
        768: {
          perPage: 2,
          gap: "30px",
          padding: "10px",
        },
        576: {
          perPage: 1,
          gap: "30px",
          padding: "5px",
        },
      },
    });

    foodSplide.mount({ AutoScroll });
  });
</script>

<style lang="scss">
  .sponsor {
    width: 100%;
    height: 220px;
    display: flex;
    justify-content: center;
    align-items: flex-end;
  }

  // slider 基本樣式
  .splide {
    width: 100%;
  }

  .splide__track {
    overflow: hidden;
  }

  .splide__list {
    display: flex;
    align-items: center;
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .splide__slide {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;

    img {
      width: 100%;
      height: 120px;
      object-fit: contain;
      transition: transform 0.3s ease;

      &:hover {
        transform: scale(1.05);
      }
    }
  }

  // 響應式樣式
  @media (max-width: 768px) {
    .sponsor {
      padding: 30px 0;
      margin-top: 40px;
    }

    .splide__slide img {
      height: 100px;
    }
  }

  @media (max-width: 576px) {
    .sponsor {
      padding: 20px 0;
      margin-top: 30px;
    }

    .splide__slide img {
      height: 80px;
    }
  }
</style>
