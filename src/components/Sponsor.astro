---
import { pgwWrap } from "../js/pgw.js";
---

<div class="banner__bottomimg">
  <img src="/image/banner_bottomimg.png" alt="Banner Bottom Image" />
</div>
<section class="sponsor">
  <div class="splide" id="food-splide">
    <div class="splide__track">
      <ul class="splide__list">
        <li class="splide__slide">
          <img src={pgwWrap("/image/food_slider/1.webp")} alt="Food Sponsor 1" />
        </li>
        <li class="splide__slide">
          <img src={pgwWrap("/image/food_slider/2.webp")} alt="Food Sponsor 2" />
        </li>
        <li class="splide__slide">
          <img src={pgwWrap("/image/food_slider/3.webp")} alt="Food Sponsor 3" />
        </li>
        <li class="splide__slide">
          <img src={pgwWrap("/image/food_slider/4.webp")} alt="Food Sponsor 4" />
        </li>
        <li class="splide__slide">
          <img src={pgwWrap("/image/food_slider/5.webp")} alt="Food Sponsor 5" />
        </li>
        <li class="splide__slide">
          <img src={pgwWrap("/image/food_slider/6.webp")} alt="Food Sponsor 6" />
        </li>
        <li class="splide__slide">
          <img src={pgwWrap("/image/food_slider/7.webp")} alt="Food Sponsor 7" />
        </li>
        <li class="splide__slide">
          <img src={pgwWrap("/image/food_slider/8.webp")} alt="Food Sponsor 8" />
        </li>
        <li class="splide__slide">
          <img src={pgwWrap("/image/food_slider/9.webp")} alt="Food Sponsor 9" />
        </li>
      </ul>
    </div>
  </div>
</section>

<script>
  import { Splide } from "@splidejs/splide";
  import { AutoScroll } from "@splidejs/splide-extension-auto-scroll";
  import "@splidejs/splide/css";

  document.addEventListener("DOMContentLoaded", function () {
    const foodSplide = new Splide("#food-splide", {
      type: "loop",
      drag: "free",
      focus: "center",
      perPage: 18,
      gap: "30px",
      padding: "20px",
      arrows: false,
      pagination: false,
      autoScroll: {
        speed: 1,
        pauseOnHover: false,
        pauseOnFocus: false,
      },
      breakpoints: {
        1366: {
          perPage: 14,
          gap: "30px",
          padding: "15px",
        },
        1280: {
          perPage: 12,
          gap: "30px",
          padding: "10px",
        },
        1024: {
          perPage: 10,
        },
        768: {
          perPage: 8,
          padding: "5px",
        },
        640: {
          perPage: 8,
          gap: "20px",
        },
        480: {
          perPage: 6,
          gap: "15px",
        },
        375: {
          perPage: 5,
        },
      },
    });

    foodSplide.mount({ AutoScroll });
  });
</script>

<style lang="scss">
  .sponsor {
    width: 100%;
    height: 220px;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    @media (max-width: 1440px) {
      height: 200px;
    }
    @media (max-width: 768px) {
      height: 180px;
    }
    @media (max-width: 480px) {
      height: 160px;
    }
  }

  .splide {
    width: 100%;
  }

  .splide__track {
    overflow: hidden;
  }

  .splide__list {
    display: flex;
    align-items: center;
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .splide__slide {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;

    img {
      width: 100%;
      height: 120px;
      object-fit: contain;
      transition: transform 0.3s ease;
      @media (max-width: 480px) {
        height: 100px;
      }

      &:hover {
        transform: scale(1.05);
      }
    }
  }
</style>
